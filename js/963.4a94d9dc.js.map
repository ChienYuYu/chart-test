{"version":3,"file":"js/963.4a94d9dc.js","mappings":"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","sources":["webpack://2023chart-test/./src/views/chart07/index.vue?7ac8","webpack://2023chart-test/./src/views/chart07/chart.vue","webpack://2023chart-test/src/views/chart07/chart.vue","webpack://2023chart-test/./src/views/chart07/chart.vue?2220","webpack://2023chart-test/./src/views/chart07/fakeData.js","webpack://2023chart-test/src/views/chart07/index.vue","webpack://2023chart-test/./src/views/chart07/index.vue?90a0","webpack://2023chart-test/./src/views/chart07/index.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wrapper\"},[_c('h1',[_vm._v(\"指標範圍帶/指標線\")]),_c('div',{staticClass:\"chart-container\"},[_c('chart',{staticClass:\"my-chart\",attrs:{\"CO2Array\":_vm.CO2Array,\"PM25Array\":_vm.PM25Array,\"XAxis\":_vm.XAxis}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render, staticRenderFns\nimport script from \"./chart.vue?vue&type=script&lang=js\"\nexport * from \"./chart.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c271fe1\",\n  null\n  \n)\n\nexport default component.exports","<script>\r\n//https://www.chartjs.org/chartjs-plugin-annotation/0.5.7/\r\n// https://stackoverflow.com/questions/64878459/annotation-dont-show-in-vue-chartjs\r\nimport { Line } from 'vue-chartjs'\r\n// import 'chartjs-plugin-crosshair';\r\nimport ChartAnnotation from 'chartjs-plugin-annotation';\r\n\r\nexport default {\r\n  extends: Line,\r\n  props: ['CO2Array', 'PM25Array', 'XAxis'],\r\n  data: () => ({\r\n    chartdata: {\r\n      labels: [],\r\n      datasets: [\r\n        {\r\n          label: 'PM2.5',\r\n          backgroundColor: '#38a',\r\n          borderColor: '#38a',\r\n          data: [],\r\n          fill: false,\r\n          yAxisID: 'chart_1',\r\n          lineTension: 0, // 設置為0以禁用曲線\r\n          borderWidth: 1,\r\n        },\r\n        \r\n      ]\r\n    },\r\n    options: {\r\n      responsive: true, // 預設true\r\n      maintainAspectRatio: false, // 預設false\r\n      tooltips: { // hover 顯示的設定\r\n        backgroundColor: '#33333390',\r\n        titleFontSize: 20,\r\n        bodyFontSize: 20\r\n      },\r\n    \r\n      elements: {\r\n        point: {\r\n          radius: 0 // 圓點尺寸 / 0=沒有圓點\r\n        }\r\n      },\r\n      title:{\r\n        display: false,\r\n        text: '標題標題',\r\n        fontColor: '#fff',\r\n        fontSize: 40,\r\n        position: 'bottom',\r\n      },\r\n      \r\n      legend: { //標籤\r\n        display: false,\r\n        position: 'top',\r\n        align: 'end',\r\n        labels: {\r\n          fontColor: '#fff',\r\n          fontSize: 24,\r\n        }\r\n      },\r\n      scales : {\r\n        yAxes:[\r\n          {\r\n            id: 'chart_1',\r\n            ticks: { // y軸文字\r\n              display: true,\r\n              fontColor: \"#333\",\r\n              fontSize: 18,\r\n              beginAtZero: true, // ???\r\n              fixedStepSize: 10, // 設置固定的步長\r\n            },\r\n            gridLines: { // y軸網格線\r\n              display: true,\r\n              color: \"#ccc\"\r\n            },\r\n            scaleLabel: {\r\n              display: true,\r\n              labelString: 'PM2.5',\r\n              fontColor: '#333',\r\n              fontSize: 20\r\n            },\r\n            position: 'left',\r\n          },\r\n          \r\n        ],\r\n        xAxes:[\r\n          {\r\n            ticks: { // x軸文字\r\n              fontColor: \"#333\",\r\n              fontSize: 18,\r\n              // autoSkip: true,\r\n              maxTicksLimit: 24, // x軸總共秀幾個item\r\n            },\r\n            gridLines: { //x軸網格線\r\n              display: true,\r\n              color: \"#aaa\"\r\n            },\r\n            scaleLabel: {\r\n              display: true,\r\n              labelString: '時間',\r\n              fontColor: '#333',\r\n              fontSize: 20\r\n            },\r\n          }\r\n        ],\r\n      },\r\n      \r\n      \r\n      tooltips: { // hover視窗\r\n        // mode: 'interpolate',\r\n        mode: 'index',\r\n        intersect: false,\r\n        backgroundColor: '#ff00ff90',\r\n        caretSize: 15, // 箭頭尺寸\r\n        titleFontSize: 16,\r\n        bodyFontSize: 22\r\n      },\r\n      annotation: {\r\n        drawTime: \"afterDraw\",\r\n        annotations: [{\r\n          id:'xx01',\r\n          drawTime: \"afterDraw\",\r\n          type: 'line',\r\n          mode: 'horizontal',\r\n          scaleID: 'chart_1',\r\n          value: '30',\r\n          borderColor: '#f00',\r\n          borderWidth: 2,\r\n        },\r\n        {\r\n          id:'xx02',\r\n          drawTime: \"afterDraw\",\r\n          type: 'line',\r\n          mode: 'horizontal',\r\n          scaleID: 'chart_1',\r\n          value: '20',\r\n          borderColor: '#fa0',\r\n          borderWidth: 2,\r\n        },\r\n        {\r\n          id:'xx03',\r\n          drawTime: \"beforeDatasetsDraw\",\r\n          type: 'box',\r\n          yScaleID: 'chart_1',\r\n          // xScaleID: 'x-axis-0',\r\n          // xMin: \"01:00\",\r\n          // xMax: \"10:00\",\r\n          yMin: 40,\r\n          yMax: 50,\r\n          backgroundColor: '#33ff3380'\r\n        }]\r\n      },\r\n\r\n      plugins: {\r\n        crosshair: {\r\n          line: {\r\n            color: '#f33',\r\n            width: 1\r\n          },\r\n          sync: {\r\n            enabled: false,\r\n          },\r\n          zoom: {\r\n            enabled: false,\r\n          },\r\n        },\r\n      },\r\n    },\r\n  }),\r\n\r\n  mounted () {\r\n    this.getFatherData();\r\n    \r\n    this.addPlugin(ChartAnnotation);\r\n    this.renderChart(this.chartdata, {...this.options,annotation: Object.assign({}, this.options.annotation)})\r\n    \r\n  },\r\n  computed: {\r\n  },\r\n  methods: {\r\n    childFunc() {\r\n      this.renderChart(this.chartdata, this.options)\r\n    },\r\n    getFatherData() {\r\n      // this.chartdata.datasets[0].data = [\"200\", \"300\", \"400\", null, null,null,\"500\", \"480\", \"521\", \"524\",\"490\"]\r\n      this.chartdata.datasets[0].data = this.PM25Array\r\n      this.chartdata.labels = this.XAxis\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./chart.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./chart.vue?vue&type=script&lang=js\"","const fakeCO2 = []\r\nconst fakePM25 = []\r\nconst fakeHUM = []\r\nconst fakeTMP = []\r\nconst fakeLabels = []\r\n\r\nfunction randomIntFromInterval(min, max) { // min and max included \r\n  return Math.floor(Math.random() * (max - min + 1) + min)\r\n}\r\n\r\nfor(let i = 0; i<100; i++) {\r\n  fakeCO2.push(randomIntFromInterval(300, 600))\r\n}\r\n\r\nfor(let i = 0; i<480; i++) {\r\n  fakePM25.push(randomIntFromInterval(20, 70))\r\n}\r\n\r\nfor(let i = 0; i<100; i++) {\r\n  fakeHUM.push(randomIntFromInterval(1, 100))\r\n}\r\n\r\nfor(let i = 0; i<100; i++) {\r\n  fakeTMP.push(randomIntFromInterval(15, 35))\r\n}\r\n\r\n// for(let i = 0; i<=480; i++) {\r\n//   fakeLabels.push(i)\r\n// }\r\n// console.log('fakeLabels@@@@@@@@@', fakeLabels);\r\n\r\n\r\n//////////////////////////////////////////////////////\r\n// 初始化開始時間為午夜（00:00）\r\nlet currentTime = new Date(\"2000-01-01T00:00:00\");\r\n\r\n// 定義時間間隔（3 分鐘）\r\nconst timeInterval = 3 * 60 * 1000; // 3 分鐘的毫秒數\r\n\r\n// 生成 480 筆資料\r\nfor (let i = 0; i < 480; i++) {\r\n  fakeLabels.push(currentTime.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\", hour12: false }));\r\n  currentTime = new Date(currentTime.getTime() + timeInterval);\r\n}\r\n\r\n// 添加第 481 筆資料（與第一筆相同）\r\nfakeLabels.push(\" 00:00 \");// !!!!注意!!!!! 如果是\"00:00\"會導致hover沒東西!!!\r\n// 前後加一個空格\" 00:00 \"讓它變獨一無二字串!!!\r\n//////////////////////////////////////////////////////\r\n\r\n\r\nexport { fakeCO2, fakePM25, fakeHUM, fakeTMP, fakeLabels }\r\n","<template>\r\n  <div class=\"wrapper\">\r\n    <h1>指標範圍帶/指標線</h1>\r\n    <div class=\"chart-container\">\r\n      <chart class=\"my-chart\"\r\n      :CO2Array=\"CO2Array\"\r\n      :PM25Array=\"PM25Array\"\r\n      :XAxis=\"XAxis\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import chart from './chart.vue'\r\nimport { fakeCO2, fakePM25, fakeHUM, fakeTMP, fakeLabels } from './fakeData.js'\r\n\r\n  export default {\r\n    components: {chart},\r\n    created() {\r\n      this.getData()\r\n    },\r\n    mounted() {},\r\n    data() {\r\n      return {\r\n        CO2Array: [],\r\n        PM25Array: [],\r\n        XAxis: []\r\n      }\r\n    },\r\n    methods: {\r\n      getData() {\r\n        this.CO2Array = fakeCO2;\r\n        this.PM25Array = fakePM25;\r\n        this.XAxis = fakeLabels;\r\n      },\r\n    },\r\n    \r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wrapper{\r\n  width: 100vw;\r\n  position: relative;\r\n  margin-top: 40px;\r\n}\r\n.chart-container{\r\n  width: 1200PX;\r\n  margin: 0 auto;\r\n  // overflow-x: scroll;\r\n  // @media (max-width: 1200px) {\r\n    //   width: 90%;\r\n    // }\r\n    .my-chart {\r\n    height: 500px;\r\n  }\r\n}\r\n\r\n</style>","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=69764ef9&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=69764ef9&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69764ef9\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","CO2Array","PM25Array","XAxis","staticRenderFns","extends","props","data","chartdata","labels","datasets","label","backgroundColor","borderColor","fill","yAxisID","lineTension","borderWidth","options","responsive","maintainAspectRatio","tooltips","titleFontSize","bodyFontSize","elements","point","radius","title","display","text","fontColor","fontSize","position","legend","align","scales","yAxes","id","ticks","beginAtZero","fixedStepSize","gridLines","color","scaleLabel","labelString","xAxes","maxTicksLimit","mode","intersect","caretSize","annotation","drawTime","annotations","type","scaleID","value","yScaleID","yMin","yMax","plugins","crosshair","line","width","sync","enabled","zoom","mounted","getFatherData","addPlugin","renderChart","Object","assign","computed","methods","childFunc","component","fakeCO2","fakePM25","fakeHUM","fakeTMP","fakeLabels","randomIntFromInterval","min","max","Math","floor","random","i","push","currentTime","Date","timeInterval","toLocaleTimeString","hour","minute","hour12","getTime","components","chart","created","getData"],"sourceRoot":""}